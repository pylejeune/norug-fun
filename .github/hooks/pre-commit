#!/bin/sh

# Aller dans le dossier front
cd front

# V√©rifier le formatage et le linting des fichiers modifi√©s
FILES=$(git diff --cached --name-only --diff-filter=ACMR "*.ts" "*.tsx" "*.js" "*.jsx" "*.json" "*.md" | sed 's| |\\ |g')
[ -z "$FILES" ] && exit 0

# Formater et linter les fichiers
echo "üîç Checking formatting and linting..."
for FILE in $FILES; do
  npm run format "$FILE"
  npm run lint:fix "$FILE"
done

# Ajouter les fichiers modifi√©s au commit
git add $FILES